<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];


    const secretCodes13 = ["767552436","843974789","921930090","838947332","782904086","992573522","543449246","447913252","668054805","479540361","360480068","299419916","298648087","273653587","941827136","899545843","591450130","409891322","663375286","347488146","643672497","293053059","691110888","511464428","551153235","156810482","684918122","454186985","907470386","769092439","691854712","711236939","157950596","681803235","587230216","560369253","442959863","879566813","509214647","928351401","229017970","342873762","328870549","417732980","465368588","985144704","217781584","146988622","714082044","928858022","269682948","177522517","697855308","599158964","313751603","332883201","129554676","922866362","936595256","872644096","392461691","715477874","418040607","536297351","812617537","261645777","321276523","836479709","299204257","954155048","202289129","250680326","990853723","421020408","899875495","677028006","658570101","103151489","553852341","573868904","907226067","916135168","253057051","619127625","792982478","644913261","245524213","103718023","422037038","916616166","773386624","417742274","604893121","909427450","533209851","309159486","978330357","125706723","287636950","603422388","226828433","532109236","782535559","931289548","781806376","639660312","990979010","798686026","854927742","439341899","870933641","595651601","418337429","634217300","838318692","818136976","784643786","273378040","936542965","377689295","222783359","301005833","877072236","172682395","237037723","928619454","392387200","165512787","453036566","962594226","910463274","448723423","195206455","647984932","263795287","756899219","502041523","419520353","501334697","312410579","130121427","602085809","450075764","573406400","158675687","819643956","344963227","232353480","626761638","136930528","594097817","457646928","879854847","543098259","400705900","663463954","144958292","913248165","247692165","496961387","789823071","425443207","453832082","885473431","617455627","448334674","836026045","382652546","246536552","253819604","646291858","845589355","904330678","308135585","107872377","373471830","577215439","556627146","917217768","931300752","119505141","402212938","140690915","424544710","583244001","651262269","865899807","246695034","740924549","442416959","181960880","869484929","341505944","167145939","718675010","158647158","300893242","403025492","165837515","163455926","529826056","238472953","255558805","608115144","439420540","465719589","424874370","384042246","771898875","154083283","496160398","233556763","629638682","302428406","908168676","730556104","434923442","725343558","984804646","892446844","477581139","612731365","603703766","118846009","255220238","780190762","251976560","928754449","551016992","582791232","186508067","214863084","338692544","647253011","725195517","600417208","306065046","435397716","175829324","792320625","250789110","498308525","596884921","402056481","866024296","682882155","247333491","630622832","221417919","813253002","690417103","319115981","466763167","496806154","903285374","635225708","475451536","707599511","371644182","745325937","330692938","528592291","433199903","868356649","549351486","383963868","630040612","997392070","656076243","236114021","598481931","915721771","255158320","690030803","430431516","201499649","756749414","957819367","918206888","327479174","726773067","653599242","494432576","754703885","691727521","461902797","914336250","575105850","814340041","686119810","811700240","824602515","423368154","735266076","106831241","860860094","425984089","617311751","111603969","241437967","514771380","334697386","947510865","746825682","126399837","343852742","841182115","352291059","946303508","575979805","900818188","541239534","470054837","467893401","559433542","969095466","983616758","504533388","507573377","380955371","979118929","176826673","404829522","476825577","189298342","257777768","176800692","261795469","200747704","398617253","510745191","510019059","311605299","909594360","771909793","646351324","435570690","496528727","228329235","725849133","351255299","257101347","501506714","559241453","924397097","454819370","305015435","150194415","704909720","929446827","859528065","606293119","488375195","427492438","231877000","756376476","626020514","615246901","297333395","918628673","191753382","669924922","925517773","472491888","260563510","714099469","410622032","378396434","878272740","516217652","362007732","102716290","911854284","226352077","849552278","958248890","475037159","831730581","548146678","612520967","488063169","915102499","553419635","412525567","864781625","573806519","787079384","842081886","917086537","612815828","612965503","251267947","603302229","664784740","821440799","592097731","311582670","487602943","107808899","414547350","654202057","511609745","767789707","658855896","519421890","615168585","522784160","481163419","484184989","562838973","299599724","716689120","723109119","712846300","163121649","119726543","438528085","340809041","636336750","698666585","258783209","821882063","115321148","174426205","903914102","781787819","321584140","115433374","934426534","871793589","186768835","534035275","873554820","695354358","412500098","523480841","865578569","263803104","743412623","968028580","354575823","854086124","251264049","936614610","382892820","879776153","398857498","567256461","797652999","940136822","977203669","924446559","337753796","635764442","658744838","715226720","673128216","869200835","867147589","749432076","871429258","888153102","942651710","983797283","547269948","128063529","883176155","278414443","411026407","577513029","651374081","500528196","540043430","862164398","888775669","591864116","365770430","797198927","178382279","377808902","151994488","270747564","975809267","865358614","978314941","978750581","108492753","327816722","812907089","642396617","933038418","367108477","432706286","461220075","400682435","686242988","395658435","728416507","420491803","415614224","438042792","566712369","191814980","418632662","347235834","109811823","739015449","783098025","152381057","417043399","732928625","887085306","676556488","774889469","650269611","684732622","619465611","182645376","600243777","823046870","282052580","581156491","789840257","504031040","626243126","820774483","987481578","148741255","916892685","692566598","123855257","399913254","582718929","173376367","123205930","666842444","925714532","125832410","361947866","624479000","539217028","332290820","128485301","140147656","430989076","701402264","543652258","852234291","627762838","108594122","615989153","676539490","369860297","360001502","517926902","494947043","451549175","416585774","794004286","386828021","383761019","507628014","176585264","551762502","536684034","737272636","565340417","145985110","148212628","811552399","860732977","184435671","908949566","601015676","341144380","208248594","974812978","307281241","984746593","569917775","326373098","934170789","422585450","276864233","197606124","347646424","238554188","524690623","266350366","739753621","546360783","677745923","488023613","212190097","898423135","781330091","822608588","893087857","284977197","695946256","938442186","493189199","714803946","184551625","599798904","496394807","616937235","647749246","555129744","224018881","982540055","694367480","315170710","783830592","577421774","745092871","311290783","202558260","923271576","584728504","724490084","894910414","566492700","316526752","969180043","590099189","304764622","744428100","653517904","373294082","687020034","660188293","737032561","162074815","420389574","372326763","954049665","749172488","631073939","710597340","993143681","954744706","766595261","782587843","191281384","238088454","764236183","985537008","209001008","896151825","859196480","414619091","475508246","221331938","727565748","784749042","421782610","100902478","593112391","317032654","609997055","788983895","717190234","157274356","502568810","945625244","352850278","111014747","245300447","341334039","277110065","104478404","286147741","918176451","122710399","417654686","119799358","978898660","617479696","987267097","976361745","706882903","850224252","213829156","518089184","377881171","985035597","687428205","258659148","654630386","126139747","376055988","321228857","215327158","675059814","780233148","384193788","942057492","822897724","634936746","226123350","772216673","529053882","655680488","910049721","816775571","564702691","756692514","762135076","775546545","888210396","550065495","272393898","829236038","246789724","374186598","706505908","520776143","378472698","464615785","398988276","197930964","689258770","278910993","692755886","114364512","158955119","233331137","608308958","568981814","496204345","725932174","913562188","324103151","612302488","553947371","709565260","599818999","105484619","194995984","110202063","801649483","989810911","398902007","452377572","726524668","757708691","126046665","447271462","534654209","767292230","425042266","195747234","380786526","407682764","345638091","138163628","521172936","505529205","277052351","115731614","892095206","670505046","193938344","960792844","599391289","815331791","906145519","616335105","840803227","445192085","747552635","409461961","900976757","430585086","684161475","589735112","898904252","893486261","379624583","175664577","326763662","224873913","142103374","695688720","461047672","111310492","500061612","770558011","675317986","908262834","679786793","427867694","912369192","755230633","712252183","263167284","358541770","955941215","616564119","740354836","260904956","999567323","709981418","538148093","865114778","666367561","656215924","430501968","681942127","791622297","931135290","618075441","244849567","147183165","257392649","746921144","960808891","464814727","988017320","909218716","353640744","998105139","343514121","501637866","406359832","497195281","664461711","363564971","950905635","927285043","757253225","470540750","118838640","171702267","943297909","540276449","332648956","923374936","840115853","468709760","678058260","367825228","264197346","775452747","747868297","903741037","956295143","613727802","359498288","452995261","801580503","359868701","667816183","959132308","595599599","441676743","420403830","260123892","424106893","230316722","321142188","874503886","670358873","196254242","223554247","672013972","762896415","186285594","213692765","549903583","694284867","658756525","220123358","209827808","543289237","965697254","849934618","874758049","469774383","606390895","170837760","129234399","238245465","816819623","776030255","100384367","101969868","708683626","507573879","732668754","262471749","529208593","153501356","717225068","324671339","553461325","574545306","396255657","631843101","734284607","261136586","117973315","412671248","816712265","634625487","472984179","864363278","640416370","333966896","857028299","937663810","977576789","760466345","309417563","987989548","144256402","853639216","151389723","562634440","357288303","526776379","295111981","617970126","243380466","655027277","670468786","981680638","694127705","229515266","464015565","375159293","919096571","251913383","652408918","901111067","925841049","490957433","187846785","828042594","858818101","769499763","197641772","188048417","411637488","991290060","435589140","695927224","692702484","749563910","485397917","494269940","727641456","166032121","114481213","829394808","354723383","146312251","335683095","986101709","424154258","447190767","160109580","983495750","104854227","458415450","289007968","491594871","226610277","771268825","767950800","724097358","361354993","859985021","691670392","683292621","814042559","915394404","722821568","490650353","496512731","465134693","947872657","440335283","385982613","680444133","184173481","764436287","285634401","372229152","289388117","319869620","543917548","908767509","527432283","378237626","645136407","730316892","336201710","945421964"];


    let codes = secretCodes13;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>