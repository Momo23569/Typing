<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];

    const secretCodes15 = ["303802804","302097586","175832046","555790763","308845102","135086559","701463691","951901593","309374343","252415671","569236955","415874958","522185129","933907113","120631540","510535931","221149031","298198114","235442394","951855414","560299163","861315670","582574919","742475295","308448363","391753196","364492265","278658439","760607022","836614222","370125934","566281164","485840729","807712261","437900918","388314060","363652349","660604981","988329668","132637608","676945050","718828777","998794086","503038215","128129468","568815070","253127623","152153742","472535585","775138713","281237267","168156825","630533619","869194784","336572436","586044774","104955074","561036204","500316948","896985313","291757519","199525428","392935193","419381452","755703823","542542956","960251884","928533197","105131731","395301886","280043410","349431265","285033750","802720558","417331834","524778218","222567462","664855625","676899666","495004563","914301727","689359179","960683864","187665548","492395269","267734084","217226150","740799574","144554079","511806289","120920684","214219498","871821975","736060229","402004456","553367220","580469494","831233114","400693606","406443602","443807545","476859234","538672984","818704917","652254405","271843356","425538536","286896552","440297263","576099798","214429506","449053437","118062709","708921879","321500320","714853106","122116833","509378228","874227169","667628705","579091905","911631428","467440337","710354644","681621089","962366551","375053491","927504885","362569489","857612125","288268385","274097739","923186229","370946370","128915233","459450150","466518959","265387812","329895966","859920192","159081187","179879768","339547554","116992215","816141981","228716180","148121051","953831251","250385630","899907483","722881548","951227823","340027781","189369484","163770358","307210870","583663150","700721694","277119717","897952487","146238380","340363255","692710553","413579461","973362983","803126870","684665037","415506963","867012161","232933039","834854663","449642113","837380366","183557445","353708697","267192069","435025278","787962804","476428046","866351817","992159364","160808309","426136099","396233255","683125771","241798558","628238279","866054564","608687837","759365534","457067898","495314010","311779573","886653220","665255237","547837293","657771773","295643561","272384880","295649831","229940554","925204649","115590170","195181568","273453231","917746010","226497380","859869294","520938531","192976942","902959431","104305949","138492907","861812105","936960832","170316164","743555257","664127512","894650680","138268449","781668221","528065434","401364860","786448841","549812378","528008006","429242553","931111398","276887938","902581565","855000323","863809839","727919888","574341583","892337451","150095188","484164847","562088177","774066706","236541286","182904935","688708424","838311186","507080604","558935689","324432725","824305610","153442345","765173780","224055016","107213291","906278316","601384541","382415664","558794177","884455534","823484238","377795282","450975415","486570140","182795899","513174318","985150883","571236413","611049508","631723598","807008315","663266318","991439672","421914256","759333997","878937929","222781036","453565349","189770607","284126909","542185799","870733389","295563399","476014526","873212471","102598753","585901905","323334481","471116897","142107220","905338214","681131488","728898034","521508486","340682007","579832558","723833738","457404979","213921154","879533397","138864912","794798486","176027754","256284459","196209790","855852401","471717912","369994214","997485658","679428392","342692637","503431406","735068164","220493548","729048175","884945720","834737175","929164032","118082944","906651835","371991348","541149653","963141564","864232729","665470955","334590590","656024613","249241784","657927848","742674913","688361601","795499361","470261717","580211590","938982120","125402122","283730758","510779252","402206207","651510965","481940780","416531949","706442039","535330940","532070670","159500092","281774194","799412681","172726534","359105503","958513444","325925761","611928971","689945228","163168595","484132445","716521453","494192674","279527066","269772752","270280330","318206308","302756455","694661793","333265259","381383270","807029646","673300835","175212137","977720260","145734899","496968578","733777648","989940347","757408592","225459714","278509807","711317372","639003505","833772109","328538089","387445412","625573560","560410975","470153177","314556486","589219084","394439349","442125334","756504524","235263590","345072180","619529161","789558688","101436463","217252404","907645126","368324642","918736199","207874540","482847323","711084048","283637625","678093338","371124691","548137455","808623707","592312409","813873460","852649360","565515268","790631563","612888346","212120710","938326243","539444821","283425588","962070944","588910570","875725462","608240239","269074496","972922245","562849261","150689522","910634580","642142205","668627830","880920814","896011368","200625678","384913110","155048354","193416483","383047706","604618292","612935504","332801936","681387997","717027694","357900683","815970142","793801127","993008544","564099355","207180010","333596476","784567971","454543169","352406029","900007228","554045393","566743634","565527899","746174048","825951956","343124081","717984692","852457832","324056812","804538816","558287648","619228413","676109960","386538274","551249094","756066662","359039478","328333044","933781129","962312639","434339953","996812525","643613892","541028831","711774180","549497682","142755406","665978580","972212520","440871983","389641345","667219608","108181301","748260179","553928589","420838948","274126937","888042101","702745634","164563033","209494688","608989735","552518870","905538251","190946730","492699341","534167933","783346661","431348058","140056419","918534128","240495145","875736413","952642926","906096737","936921137","451943467","771566102","818660989","748600470","892597524","336529660","191228002","437568921","153256541","714020609","251778998","592998151","238847372","632301482","160221889","128926031","396837111","375464541","936226555","679802771","999258468","543150809","409336104","833714224","401549494","573993674","842909619","819967560","985213506","368009143","663916500","288156739","769371206","142273771","861498008","427864935","461750699","758924515","832006521","337516907","428890155","919580157","802938203","633209094","949452343","637120190","709007283","205263543","202284426","884044354","410385790","616811138","960489479","182426924","267555261","146670854","617549107","636648383","208628475","830911406","194237099","482202605","191950570","181674767","731344097","414707752","688677193","866125118","133872153","783281432","958404637","868755695","326746480","435812117","261317621","112221599","709010388","528286032","602321839","330026510","133778061","398413939","726839570","593947028","599462835","924305446","313417949","619822987","564785658","451892983","163894154","155678615","923894512","571691523","249685578","577866292","781779514","537734828","543126774","678208262","116793284","354524821","373986083","846734527","679278812","593743257","382216723","570473459","751606240","588952710","590187782","646155675","821469463","976890020","701237676","557382399","514506456","680805186","698675230","614639625","120529464","147567048","715589699","986556002","748982032","202052521","145255616","188367657","437147741","869765125","281820111","971573303","926256545","418709221","969829383","711143626","245101291","599556143","371801473","228308731","489280676","543169328","265338862","726180168","700167148","664268900","823308213","313275954","122716238","468973439","947797526","376399474","294625629","394385199","507659713","961502451","622593137","366127027","555563912","116864198","196533170","545575476","915558120","359982993","355035497","529024198","785679599","790271339","205218763","946250202","877184025","761740301","126121456","735790074","328935725","420160780","951264878","704047038","142955275","832209817","621396488","837468385","436299251","209216522","205133637","404920282","889448026","553517823","800457254","212031029","239828735","745977864","396567688","708934938","418961635","849844838","314427506","767383939","937754515","288116853","192403522","805786742","437860875","549207949","193561772","125918112","783302934","739305133","752476573","230988343","322693003","286804225","636228065","360601410","349718488","353863877","920175404","294163779","914742332","793786948","201973073","729279421","390629983","543645054","868473434","646836966","976613997","800800244","292524443","771241020","657948018","633168886","482189808","533903875","833798480","429979492","745512507","981368516","328473634","640611750","815060548","705218045","575909323","781490823","413910357","834273446","967727120","869971600","304247587","759849338","862215121","966739716","783010714","747709868","632328855","310416379","471094996","854010516","223926988","888605431","732742006","994789444","512407116","333511190","137453756","930634934","595036532","948968905","163681896","154295707","384524141","974769086","647753919","110385825","634458421","307686626","940250308","493218582","186400503","631469765","973521935","626731316","698505100","226874671","173869660","987403770","420806754","415808629","807146187","307187721","303490227","709589485","642273627","845898195","592766928","227605272","744440685","538012807","868053661","172627702","808405530","810169868","718289283","746572008","613253799","813934530","954079831","296465126","346449146","295665727","269611314","609367350","841802671","910943906","511211111","255726669","479422081","870342879","287761948","192134123","353958491","855057070","780454217","160225855","830759288","467714850","208399488","998099475","210206215","898168321","492675969","661389754","322405580","733039153","830511740","908976727","204688825","283020081","499735670","889045343","999071855","529171120","142075748","772679964","958952335","786305643","105322879","959292421","990056340","589449666","311401956","620252197","307564029","875975308","611034956","240028827","433227324","447940145","460627606","314085430","566856484","669236037","586173199","562661454","733899933","361606120","923632602","538035085","884372808","719118117","960173443","104229654","856495157","169611899","432766586","806746389","293028512","868453451","755873360","213343981","952126843","133353672","617536639","683367864","715821061","418254299","572067604","721300434","142375982","838871807","917247739","199357545","124859284","851169921","110708485","607638962","831182829","649946789","649619767","470911543","839023517","896912104","353196803","351720087","386607106","458796109","573351843","433494541","777597715","959321564","799675644","660733143","639647233","210409350","355026218","823948434","733091349","584557752","644871488","504056658","589009720","734753980","459333239","302248470","136438657","421603383","761676985","820030981","567851217","858198631","668122757","483560827","842892045","850672179","246469700","809608477","143982925","361557712","555881718","650012405","577010938","468829064","352715638","411150677","664137095","948364771","687583836","342961725","276395776","774006783","536290870","220514995","589023631","913710570","290398910","165361635","178995672","508814526","282263897","856146820","336810981","246143555","412479963","748782880","917261035","598374181","629561187","604108752","978603312","629113258","824892724","508244239","857013683","805161785","389124460","222009614","277320193","312139032","412023100","683855467","660841808","476523228","758147210","139935452","952213178","361952651","347443835","490172669","581819606","725699383","360652394","988501379","161812884","509896722","108347051","483516505","766141311"];




    let codes = secretCodes15;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>