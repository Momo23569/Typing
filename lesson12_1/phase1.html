<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];



    const secretCodes17 = ["704754861","302207946","963778230","693695145","350991320","930960565","551709959","181883101","981471171","578792053","851921541","572198425","673504520","484944276","402691053","516705468","364801679","974756551","852253058","419089233","160529322","951634450","960099052","809989347","838349216","326131759","797255757","494251356","636375658","307205919","573960119","144212655","829342188","445084984","426763455","576726313","147064774","527160464","754086204","257812495","635577148","139343632","741812507","254512682","472282598","418128355","713839472","557267318","378072559","481001966","437609818","268033744","601774754","173106364","285784424","870086186","379309083","801233751","606251689","349475812","217121084","588943439","396849921","305354255","206275987","333762330","185655798","749153588","788313943","906037803","933222944","546208034","203117395","929406854","755144487","117171115","476865372","898217519","661976754","286136309","227699987","788475492","792850377","867210445","175493426","740988827","102972529","545041595","928075631","106344366","155104446","736682315","247607491","703138737","101977613","687036158","900669686","918636364","952283381","477534042","239807544","691692180","198383545","949963657","555739222","775608401","734957104","145996029","118661807","190599759","868030502","485057278","938281089","722668556","907765034","239685951","753970244","870436898","582006177","637984723","408245294","384952374","564583479","455513677","976177980","339733841","335433681","153645891","593199645","680893529","207977912","361782341","778084134","628199073","568739855","382796546","843012084","747214473","455054301","531489322","383518227","272345683","889908892","392162846","949416614","138332946","286297543","323521717","771132416","458993532","154825757","657801919","217116852","859556724","632997708","707747349","457849634","808696127","187012680","550843926","958631071","167886689","800190108","817596257","757437664","772476543","630076364","380126646","209829259","314770510","316388569","666232521","723873470","478941322","420711482","749709579","453026595","278553510","754726380","118642534","694336422","890714209","983122684","117794549","282627962","626737488","966546453","116313452","830790212","927202376","349447462","250028298","654838027","863951977","362461329","855089009","855609498","723553642","156972061","209506809","522012535","669653922","970101709","657164555","619891621","754670755","871611122","570782650","174072921","300908584","583642990","825990439","117555735","169726338","145195151","961790933","759778721","391898198","579651522","565698516","376396859","796318718","494068819","849487029","831307367","933673111","371618125","483197204","804365598","211698728","851343541","743438615","134893840","687051613","382678062","761921588","873537346","253880902","790332818","990437628","313171828","748585289","471928048","931737438","921363567","497887415","188495135","556307391","841027476","893442242","976430592","420138833","725996784","302478619","265587808","459337468","787012985","934504284","366659363","124304158","720073970","300283080","803422234","784911674","669962557","650745513","481965618","209864370","891519336","628067085","591435843","573008035","611305276","560798344","243838319","512318188","948888939","116178095","796047158","752635474","466339201","813149723","124194091","181551289","450018901","520957868","754970664","786789560","101144086","494797747","544061491","952303797","418387620","155196380","109227850","431130729","546823838","741455541","774653901","828454258","249186432","300819665","139033177","175802085","305404702","576284237","618531875","984542230","902086225","659762486","447632062","480673437","143169673","409027164","658994673","396293765","259112772","128182194","583312171","299159569","286524287","597731806","238831920","474721154","354036292","191849410","125543641","254352588","701405182","759609050","505256382","960928566","309660776","611560528","116645613","700333408","312483813","435122299","285540678","851070410","500265432","267699568","608053144","123546156","834384952","478210529","174680749","333945338","370731354","656054346","596710644","695380593","747581606","276305158","226391054","501560262","974708736","346655236","443773785","955767175","871458509","571067636","514931355","359773500","568811014","489514854","795508603","924444966","668938075","502785089","548894214","390527343","922123620","759236321","180485842","569608566","433606922","609667835","503817361","257916726","978012528","112320272","541711630","695388070","750032490","351605143","506895570","787093063","973518494","487265503","830855685","202877753","280602511","933249948","713281298","106390845","305304276","439199081","758857862","895965263","407656213","804276275","281330413","306796397","211219697","550718593","671460161","306056906","213131247","551433737","779426169","927013082","997909722","850148758","918652191","662311905","930170189","248434673","858110589","380819034","308375427","233029443","755266718","135868912","440800873","856092663","544649145","825715782","677635427","345684599","195847390","690091338","936960808","510368701","212439660","697881513","535052636","169625557","798735568","835142253","576734495","763854542","502222730","940738979","850787241","261294060","340962431","434383630","190880156","795853282","524939065","155811621","388455597","534460702","525450047","636094761","158847734","791057808","102080475","152342908","671214563","360735933","224693262","496455922","443116197","660012190","632359630","393080868","147533619","184129360","736185402","870174046","324438071","222426611","156906237","338744324","937959767","848043721","581416987","113438243","909549682","195553566","680661006","748743854","922932396","861083330","671275202","280254872","717378791","513468018","902816553","616064035","154573226","336927138","778490023","724620862","762971573","623976114","337549549","109573372","166019421","582891095","865165215","275808446","568171340","450240833","928963327","235344334","276827639","584828977","384223233","198739630","388766268","973870804","818059956","305421969","855285556","463701688","185137687","191633732","782606504","268239653","151531423","806641315","978305329","881707295","599677349","611849035","107770497","921423897","862154625","774690828","229792565","483291070","528113367","720892655","947955734","603221676","698066117","621408137","706595570","574797322","866972546","341969076","704511836","170386807","777558765","904942531","774856369","413335379","676376391","684687489","794892971","196196622","660837736","196421001","593429630","761678872","898684768","708097901","864508731","697876845","137971094","891875118","911175121","971470318","371446339","643551479","391313518","148887038","670155332","987790386","584618184","114200938","396331155","693827978","587362992","334608219","139778166","111779275","380120640","262038130","676902131","965340273","182130952","826778879","343296819","474796235","556333442","985685376","983122747","160987531","419983664","622662471","664865159","346206516","832324756","291878581","153354572","284724516","689790672","945599338","334730784","506166232","260571696","536075960","570878411","987793628","349233357","888878919","852774104","669362341","921212668","589051547","488074985","442080724","599199191","264413664","578809103","156579564","546025809","239590246","991633271","766859249","719060130","323812128","110513518","912733421","731696350","823160985","403446462","696248786","613440007","593816991","279283623","509589109","558878488","961896584","372394430","203072926","463832820","596703044","777484294","228419759","393860637","597615252","430254181","463318205","239021850","102573761","580034786","937454452","549592013","825898570","912942169","797899524","403004529","502885752","893184677","981491157","554640171","978471589","857189259","576466282","743637298","855616487","294517123","619432900","859550563","589758532","808913231","827131082","358906656","402316947","205424941","296002639","268593180","945339216","290678338","558456781","489759728","563241469","718066952","643251988","726353997","540055410","866073087","432350355","766519088","162532499","310388208","633312711","218386319","937077106","450105092","120082851","212560477","724082726","209871874","292638912","493711078","348930061","910207660","461729268","668017870","506241796","987390766","284770075","387893662","711616790","141996791","108882184","958240382","878211427","155570544","753651924","962976079","946130541","545228652","126075460","172362637","192615175","775160506","936828586","229144541","232718667","187363225","908677588","983297905","425597833","527888021","943945344","617617833","322398217","233007493","450134454","499426983","318736183","760769788","450764064","814745753","655020058","698294901","891106220","147074184","191749411","362769314","303714461","434248248","753259942","891582802","182053919","190533943","263292591","570294035","955495264","880503691","598226370","801617053","544193246","398865722","414334574","687795620","157922482","266444599","539025775","790808077","733582865","208884907","653106436","945538978","987448864","252558326","865556324","958703764","641597527","529709402","164940559","369080685","935025609","361024748","352442748","521669069","946741283","495926339","367773812","560104451","427538843","524240693","911843387","178369893","118559793","347099283","320355814","965658817","592453107","243068082","596355569","832547607","514082093","875832052","873498542","794527154","703416047","475492540","345566974","919044472","109439157","222120236","815687144","162020227","924708695","718817247","183046179","134148519","442703633","954752423","601690689","837371915","842507304","335150778","946785229","282363836","963499967","457663540","209798051","868687139","317420237","516055368","298906697","573707288","349056542","511269108","851024009","320934821","490890370","570995976","649875016","868611958","583046994","806223664","964921597","920262387","190489136","635720730","136697172","796605609","906328765","829760486","938467647","133640747","686515363","540258750","936165105","870287301","149249465","375929715","492969599","374462414","833679750","443226080","400859984","957873732","979773495","493096913","948000516","692459707","497921510","438632136","847329724","613785033","330659736","378022507","409747612","416045948","191777191","466004631","778390963","567851942","390787600","930908161","715621662","782953528","600132452","608495582","642224296","792577333","683292767","713618707","307472138","723310337","431470397","688440716","711419207","647830464","362095790","778317128","651621655","371756856","145105863","479769990","132950066","921455814","492038165","236838768","844049102","899469794","822591521","850428034","682977873","293147400","536804847","330301151","797758030","134759279","592269013","280819449","120132117","400643638","853827550","589580193","260047067","796631972","362198056","922830398","297372757","588953116","128069951","459630867","206544330","468339169","931393861","323638982","792973813","126131324","781458795","292619313","707174774","524777309","888018267","922190977","507495257","763706447","351902544","685372563","980460362","424997103","640648025","842934515","136287501","885553305","307023732","778370616","466476691","959052040","531522110","277186543","438774565","313833009","268861726","371778476","389920615","531520170","251412797","481439364","448316017","367718917","302439069","277006782","436473652","992834205","453173054","488759721","495229027","349970806","630617074","140688086","886316302","757888365","950386426","238566856","779776595","575066429","445395750","245903249","484609598","767117992","820402627","993236157","635468889","491692135","125979185","153866402","487231921","330308278","800789964","221169473","411200352","344605880","497650449"];



    let codes = secretCodes17;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>