<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];

    const secretCodes7 = ["610092028","204662625","789853086","142104352","991400302","577901226","453091180","221412838","650648186","333303502","873931881","118956776","403169717","826819910","185462412","659199446","656923894","671625614","815799067","217418630","362620715","472695353","434859943","591215808","675360510","721644053","703441589","814667106","597646536","595279868","848282946","945351866","896932243","332945714","255412393","592515966","349357357","165606201","332711849","754487544","621698529","638048640","261105617","408722163","309838942","643988630","706199331","908277550","944646035","843906890","920346927","298066928","943344532","870637577","845103701","930606882","779604383","673077463","395148240","424000883","210559121","670525954","325110374","202168537","622237078","927671439","519778495","325820977","270578415","516681350","666559223","513525829","523473161","386885526","764297549","948213852","707899540","809379900","664133971","274081121","475049799","735883470","831055170","554924596","880848192","549249265","914848335","170458633","733904345","936178669","405796435","128533860","810319353","290393786","716220219","855385168","602180445","695529699","174835014","424096083","861694795","927162939","525538828","954119299","498971656","139291713","701050981","594089495","371123683","429289259","533470817","991478977","510296953","731860802","674183092","959243702","457343324","291557291","711745161","232787530","608620701","782873136","715000925","328851712","450468183","136947618","147915681","541831079","189114477","894754171","917339527","804933496","621690323","267721975","651130344","995782351","962628842","444642416","709891618","372129423","130972011","295463805","330122998","341369914","270949576","187840504","140127838","554890376","592752227","754294552","595495688","304638335","219564014","325727236","391919257","718076881","551271708","435609803","229287351","758071394","267692449","722164293","743540953","956900444","918710993","250221970","928264017","402117452","215498210","869237770","617459697","559893762","358662079","426673010","632933997","637907396","713604747","935160367","121679614","801123298","343802359","617154949","111857357","768288205","213124287","937427111","883025688","862878998","651676760","241273652","777975077","617226740","188550483","563853922","463260764","705075629","448026456","901923165","351637829","472496606","299114224","507370360","324670949","843896006","730375644","792376056","366158750","193886484","140412045","770139917","787566889","272574409","444050182","820405278","603185913","807094072","239010809","798218138","857420550","148797387","688935699","193457096","822581082","201150440","961280871","248276915","538036055","589872993","396699053","426271176","509704263","211495307","104618555","183342398","353277952","196076412","824115229","639251689","754135597","874665369","688969178","317806756","781507375","389603882","384096241","872152769","114806281","750861304","870444096","831429293","896500217","422644816","238607996","442389897","986517120","792136835","514350826","202073682","518615993","965007674","141408936","699759179","460056563","879005082","231082094","761377029","856445963","606268860","381191314","664612368","986865346","763444141","647422524","635782069","475598890","972190342","469158112","162233921","427321837","666920761","701182625","753419642","521653023","365623609","607356003","328694044","752004861","243824810","603574967","202652023","287312729","653319370","733730174","996300961","105329841","804768292","254384300","405790647","916508808","402203611","671524923","588676997","462716908","507075203","248123539","712143406","320584707","723565374","894072590","836018294","762574320","674463468","752801942","243920326","148686428","359039065","822457489","174572237","169895954","374978229","566431915","853639560","399754099","962109352","812537765","908031750","689636008","299965742","453529026","178163851","820997877","769379065","354063823","950119741","475951783","774706982","916118713","759212173","883096333","774389223","944166737","535324444","760579434","197966706","728055594","608045154","565906899","552299739","195537173","434541016","316060215","934992172","352002122","400898762","900582506","865124939","293949672","855038076","737279239","578555894","879926445","684048071","695144802","305510164","743358270","365489486","229807381","900764619","243221520","660236228","264457047","805584335","271695315","642752685","503801743","547289379","810059447","729210526","859229066","619214554","190445734","873898189","513608429","795553346","593624645","744914443","549041584","492634405","444953721","135119157","882699804","179338701","112881850","558640797","293795521","128754063","327832868","248904997","930484257","329438957","323236564","920021181","182045489","211934537","313985560","213209870","817899407","960657763","935553045","738002443","477010229","200665891","781263343","712310441","961167431","841399502","302244957","392319272","678571494","248278100","587314543","889717449","854956265","838648012","732220569","450765882","842419443","704903811","609356637","369128742","636708927","709102785","692409984","634058535","231594601","180341176","129291731","537206296","792718370","142181817","609231834","313895141","700288850","251475016","637459192","991342615","689997016","201768452","998190770","729079921","229693416","232222594","601796715","519430910","130014348","978981110","664379620","427582493","453830077","859945107","528140657","438619786","737202889","457628728","288720610","981491087","603140516","417245498","797755132","944673848","495627272","861657127","807840572","845234912","634987670","853520679","477524869","384605073","828915491","564747952","242122357","444194367","385777959","450215267","710605702","436114059","248715252","842609073","559738989","743231372","753738750","875013651","241457056","334624062","139887334","929623442","503679082","796964362","143787323","265636950","178156290","964931828","748833084","271513516","255710159","108899677","944479809","327745433","614287862","945484884","468078616","247098854","585071227","419749426","512997449","407236674","521867835","970055583","524872342","547090561","142759435","625184229","723738316","983533624","672417519","946422000","215126043","984892452","488647937","930699676","175089173","829961484","559196893","933563898","134848963","206976194","348533903","201638679","685669839","960102579","775218809","399309920","123705062","963400320","201131308","619724057","990530559","760817811","924081946","847521820","466631612","721843032","434646758","509070107","460501554","475611242","202315418","171725451","996965774","453740273","925485926","357954066","204606824","634029521","884765618","178176645","733903996","882381496","639470379","769447304","533120111","823351861","951594666","751330592","263077801","935418385","128460995","651572453","616262877","604256091","623551455","593634423","450917930","838522452","400509937","789384999","538055084","523037961","194809140","966176026","693892015","823945797","861598445","492317900","161250648","982655364","235953992","146749939","534817178","682392336","379669334","551382441","498321247","380207525","875916683","291708181","451618051","649424250","700350998","953922133","947910027","184919172","322376555","113884783","391753935","320922745","326780376","848543870","455970247","506837438","950858278","224459543","229822961","273144068","704013808","973046135","872277086","237965837","172957353","291125036","587252185","905275943","677514306","482693468","417273470","493944408","921169876","518730861","546664034","732864344","687101713","917036583","444000187","700015569","135024259","273027385","839186403","522477970","444078661","764495061","790245705","438525131","401034840","165872360","293586356","579297596","524689203","342700995","522745081","359448736","830719185","815428956","397816792","514199102","433518726","888859823","661276348","938224406","506486981","496762248","148575314","438073448","711787219","905297512","317861585","146902317","777799697","587812874","192662906","466148663","842691613","884540127","512221065","725851096","834137198","821406363","424474650","511897706","962237860","748713537","264823069","746203072","392974107","341035500","996902335","833175215","902991638","906877999","959368125","704278130","631470472","693388610","345387399","691468876","302845479","397737094","575970123","902438282","124128925","618153892","984703502","831124149","115977358","477321477","458351671","602226850","509419326","772683603","400951627","734555669","811738460","491446627","363488808","158510471","568091961","681939616","608295582","533094686","202768318","349247376","628723350","109950361","517143116","242265176","482613373","412702529","806066611","612998819","897777323","413393231","106328725","435551559","161232047","476644129","217641770","434928360","766445482","364780587","581631375","832297664","643374157","976190371","763648037","846516941","750538005","746361847","160404787","930521449","579107070","838482508","519664789","712934047","103437738","122002968","969467067","660728432","739263230","133321883","300112343","453970897","733672779","840699745","470405945","698313632","895993545","673405301","122338847","796144849","715154819","670894079","281319731","847720179","261127805","541739156","782363061","837357680","778055512","737108975","370163817","133037098","116584394","713063841","822477767","837938289","576311951","253574675","732900331","137668992","339222079","603279951","536047980","558303207","390195072","698884322","111462438","276873739","786260108","465104815","414678442","781235395","676328973","459263066","634736831","511550244","103978145","423623423","318854660","622523537","308289077","945816539","183362431","699803517","328921610","222516770","126507137","534190086","271913420","156762882","792717567","915325722","615489907","389116678","212174500","487774322","366392390","533579895","790723385","307793975","199271934","977997695","924018761","810428289","521071383","965117133","641812979","853627926","187230323","231010416","418987623","757346433","539010817","557685818","644680292","539176182","476221048","374167193","875812592","137561743","917494191","381436633","190038864","971662347","744776695","255885569","400839029","157702422","982621716","432105310","611640719","119514420","682960474","270748341","991738275","975933523","277537019","129275635","709961748","727931796","306593967","641668673","632726331","646389171","794295864","826127743","748000466","609337569","936525475","262045936","671445877","924102880","115284980","466758555","580215937","559004249","729735445","810042584","435508572","176009052","700324567","428493601","290241479","928294178","287846200","223900314","958703490","522186594","232446006","199265188","579536885","288108393","796084584","534756796","313561795","730355134","856258808","342537859","147238939","862762145","929637956","807272964","914640724","669421206","210633980","645744017","650325268","234860004","540570159","884162705","380693600","168526846","894614664","147321194","844563614","627312375","749105867","653193634","665332786","514660600","964759202","634014042","602728938","274065338","740129460","400989325","856786603","640793826","995425491","542124042","664640948","121240646","482001849","162733049","521279774","822844210","289468396","980279443","185059523","844608355","660583366","878799012","649858556","352904024","707585587","162985846","991034301","844933794","167842786","975124392","997091931","807927596","523361736","817029985","260495895","388547787","755455294","873654110","483545849","502693773","520914295","784070242","737736694","685509112","898910674","236026276","322768749","513477551","755559925","870012864","130103747","358422427","346898888","814790026","732899190","595848931","882918742","606259129","441490636","875373253","962517167","477716043"];

    let codes = secretCodes7;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>