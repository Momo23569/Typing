<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];
  


    // prettier-ignore

    const secretCodes11 = ["283705952","918638330","101391329","502064610","820531714","368791860","912614865","659794852","379109720","658561146","247816623","811944976","616312222","990012426","434641913","208692595","334584596","466199836","742527209","790103307","992899970","387691948","430994658","317074863","437084895","134889957","940190372","937162862","248648110","234764951","494374226","822909585","568519655","465210677","579529982","632370008","181655408","384853035","396379866","607942194","867706967","282709137","870321209","982726939","693245363","452611479","448427451","394324110","451626550","711887701","283152408","773836918","895243861","781672459","160367171","404232471","416180779","927554863","590916764","372183125","755541747","301138882","907409903","793533299","387437292","670620355","154602008","913351456","667554013","197170870","625135123","532698227","216336591","918095454","675850080","240579263","370763691","907851065","733316660","221426741","772530524","586161209","966250926","724776875","421466646","407624518","606706949","449848281","923189362","226198031","491859076","960517918","367973082","676065425","181755639","271421927","768631596","167182078","351962584","976111065","893018393","920994881","916541103","730501070","643939441","712317160","603540114","763841915","337602461","479475962","556624684","965084343","109631558","718750780","609320725","787005406","159270076","165393972","985005788","480783148","982455434","947687396","584318725","921795101","670194929","802396777","615551034","378483472","332818958","546275556","717406181","349809040","760900686","619969949","781110089","668226611","632334654","725081302","487622971","818818726","362736766","559953376","406352865","377016300","371163429","294159996","540870374","665258966","190747280","251677211","368337978","744774755","979290438","781412477","726682984","735828505","487939812","768126996","840745938","545401008","547559173","733175655","690588924","758141509","256750021","163775064","855979607","525428382","345043685","905286460","520630830","353651739","562450351","490590049","793394352","277790219","687309508","394700381","900976846","965682637","325163001","517452721","426842195","262238219","175380464","395735308","855929732","657151302","139630275","251941737","938450714","831853520","914249578","636983681","961665391","557839400","274567484","405489127","265402892","690409145","233718106","885068021","117912231","896846177","186560528","818942713","209138454","437197529","418462041","797336930","162800972","487327640","859239768","234630990","116338814","593558953","505189878","404489816","524117429","786242820","239025035","844348863","871193844","168404475","121721405","123571577","129227285","233276841","603744780","679830178","389847374","777314376","609796463","307905791","737704829","328549498","118283700","217497437","902027181","591769065","238951890","428430650","381429584","965848492","366115379","250973096","719255363","337198650","947255542","897630737","220573477","622629210","317397823","858865678","783738908","678784925","769638557","837143346","963494763","130873836","330857937","206958704","740851688","504461126","979158529","458071183","644752262","347473921","851684139","958514168","827540592","808955742","157525684","995184621","395855653","203124747","565798847","863765974","434778232","494979926","198732509","588807176","837858586","188955942","136522406","975072881","220793584","621393872","117662821","602394314","757544069","610241304","747391326","447885618","153274943","253887969","272061254","878339031","701556509","681778660","517007365","816604927","720967356","558300550","670995223","235925287","508203810","903863224","393527084","162314463","464578927","989301643","970919907","377129669","656206942","994393932","942983721","635237860","453010407","908288806","624210795","877205969","294075754","910162130","308570509","987940403","990902173","473689200","974409251","824915718","766872628","489246911","690712853","129847026","963987054","728932906","763120295","818150519","249464107","823222508","557202691","355410255","248858521","116503183","317030821","222184941","209861843","929440969","909715506","556976334","855742185","293347739","321236181","262090121","988322005","726446704","894358182","767673365","625703544","725028977","413934033","202304663","766480477","144265266","960705579","510279176","133346700","195366440","225825191","779720335","948983057","874476593","271781394","326677039","195348098","855149842","139950133","896978282","736809903","669540172","302527240","848631250","384168415","637299494","561246319","955734572","653948231","449959814","736377873","476465398","859322619","500385667","539005005","803797110","468900362","306222728","285603767","267042350","829211727","100772700","237096566","586632554","789249959","493951693","725138585","405337010","173120058","162006065","470440632","608680661","187210309","172683934","731951429","382611951","437570632","664703538","563715817","910609608","154493120","167874103","209273779","281297799","277283838","988998715","329143970","695346713","846797124","698973502","160964372","354166790","583123354","311772382","710048442","441714072","227012957","705417995","258021646","190839013","744785643","564545411","319816387","537726011","143511175","470709998","841227398","884917132","218713190","744219821","781955947","692252403","931238153","832793812","548080606","173035550","878761646","770197988","617804349","910586006","299831184","558263965","457061757","140661647","966780294","867690043","594284859","428458776","287017556","720654269","665277109","287405827","320395604","613404111","280390598","320848236","957742452","895845097","368857297","566565099","510749401","996674463","875221113","771727301","490724699","718597360","508808618","291468296","658639257","858774002","191631234","571362401","331788214","248170351","650529444","581223034","712555757","835456226","449902109","702047616","405943198","100265488","604655070","434906061","278020702","990137995","281882703","271346679","612403694","104399797","512925950","549443352","932892795","581852499","160330409","797112361","109079137","998562415","900353232","585482215","691973015","874395835","489636540","699912222","598263516","506195253","506048327","849920164","349864162","917543912","428689828","503320688","463257274","717532398","275216149","169826256","114750058","570062386","460676912","366273436","859169028","847330267","536765311","982519529","342827651","451725505","872663584","149546736","884117550","497712218","509447172","726613263","673317232","446516398","558553221","127981953","167389864","109128665","813361047","250329609","368594625","201363047","625591272","292037495","891694098","303061793","235051956","729360029","984833096","998126827","405535293","889935432","821246989","157898074","174557817","496790762","502310501","691945179","517431719","830585275","733713302","159119220","649403038","353179725","609974739","498064039","672870580","307649539","244287436","761130944","733115101","438817155","962833870","287366445","605413504","875030078","896083876","141524757","335932594","813387489","430414897","394228734","225046882","283230181","193325475","430732804","316185273","258667168","242707218","650957149","975263125","140484558","940572515","454641561","697570930","382039165","954178086","632485033","381344457","646898714","445801809","402100105","244604626","107024279","157192384","216428269","781528229","389038847","911139895","320064435","912228304","253886259","221239882","784440650","812245333","636174565","333991304","498403519","902840055","896703454","622553907","552144138","824673040","497657340","465815173","722262431","725082577","174350254","387399500","407937562","232559965","870568756","347842594","165589554","731490996","272756108","866475622","778281115","540304504","944885223","710213973","114876427","721979797","364318078","510958215","861928676","357267660","288828991","444413444","410019492","270328744","518722604","101079582","731573014","805737871","329673734","582004790","335015439","308149868","348338907","135311784","804287240","834024347","347888312","214431355","585672428","661528678","540170795","662341401","740522813","492224433","784835748","754920668","352696869","434503794","603062001","155400028","852801487","844786902","568456301","792502725","308992912","518061706","151940092","504793596","861607507","754131191","213552371","487885231","227658153","672070836","169645719","517229289","160357673","689972179","889939630","859825691","763099330","187178307","988855429","958421310","381790127","156092709","136018851","711062308","584431544","602208714","763371626","702435416","766948909","738554847","795886327","701250154","878074526","434679302","785961026","452299833","811607068","913149536","500059439","922120443","815049380","202380975","669877039","752200976","407666166","244820150","620067790","248570030","413958931","505409598","817060678","729524378","422324158","469667246","435820519","753507427","121721005","269550102","298909429","643332531","810008367","358313133","519262231","136827755","865713902","320954171","360840253","950271985","473335587","175283017","492572302","849421596","695678211","562440654","224436911","399557463","390682004","434379270","546353535","530931014","363432669","961300254","597049469","610117237","713987467","766347861","175709494","670442423","193936033","805565784","385762607","313734345","726386643","879950838","148015475","532618722","924495768","195674557","503796766","947194209","722035196","960934537","580126666","699801296","127628639","778987893","948227948","560932151","569561318","245901610","220211946","179475950","717153340","229180797","801407986","510804096","499481040","966003445","674301635","288413155","879192032","705307054","113562316","113495367","342192366","449170580","132888596","637552574","630299203","268871250","550834737","435234402","738338639","842442415","686845598","508018005","558294803","236695789","347433120","572359691","584335673","602119203","188807338","808704901","324457806","647918052","132775843","120279388","995682995","835394162","684545021","306268137","155137574","828280942","390409128","455513095","939705543","150337775","462535803","689875688","365367513","850528715","520060518","350060965","355514455","247791614","639153046","213683003","476411816","727786335","243458341","622175968","867293278","111269995","103146188","551120655","426814695","172103331","517004695","603326734","257129855","245614962","908644281","419257618","211118391","166078719","965443653","366186252","611813398","827385028","790972872","979854545","174148843","951490338","554310870","487966189","797272183","742012039","642163027","189364122","872571820","513942693","256056533","477672271","755312761","560939635","747999410","681237468","979603122","403579328","699918549","766482969","430039089","327860113","104815860","712299007","492441589","322891386","269077379","575129512","674501629","595569680","314753216","450320336","715539534","582445748","774795284","386205928","473864519","908724551","179284725","632282423","247237939","255396633","605129516","229856154","526911507","265035368","969669652","487496893","629164320","415465774","591555880","591307704","339686869","433266135","900997736","109630161","211678400","530780782","397779643","672375457","836930747","664371290","500129605","903659673","229596235","907791394","917945939","943466826","539152399","120730861","364631095","328228948","357805610","185373887","201280285","957842598","839991097","592453211","869206974","238750237","451388813","476590758","422544261","202101402","420049969","358069233","801476868","264227151","321012346","661320996","565100157","151481582","541708526","357354361","925205347","844070899","747513855","145525633","543960436","903988420","527216783","185908432","560450264","917941431","673008080","771102336","405344864","665867449","943830208"];

    let codes = secretCodes11;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>