<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];

    const secretCodes21 = ["8759760160","8481707484","7521310042","1104335999","1794056966","3823710061","7580667667","7418333380","4768475777","1155685508","9954309766","5920035842","6376726029","9785521803","7048187343","1895461949","2602381114","8013951108","9410768009","8576699617","4356582487","2145722006","2354505045","2749506938","8136604799","1015665027","9460714128","4195536427","9559413871","7484171887","8221785759","4000549004","2503078729","9480774538","4855881964","3333322753","7187508916","7975939988","8430060949","7957661811","4886451041","2731038922","1176726978","1665941217","5005885842","9978748054","7940860132","3867726666","8588497086","1886054350","3314082717","1227135801","4421797164","2449346400","5021557738","6967946174","4935579211","5172827682","5826394479","9089196127","1627852929","8307859906","4080957514","6366479789","4019814648","8308570553","3456919775","3505365212","7624831737","7761620910","2498770469","6239066032","9653318558","1812352394","1364149774","1407227415","1799385968","7090188890","4014192904","8962763363","9721120727","5794847218","7024155723","1862574260","8342703112","5699721108","1880515607","8189136411","1610751189","6641552710","1047154856","2478135721","8310606815","5515771211","3098100999","1494003045","2936194439","3017208612","7941581733","3611606102","4223293294","5775910802","8342043489","8580531581","5045796260","7738601255","2484368476","7743076673","5235422969","7216780636","4073716257","9778629369","5544225490","4929304351","4687143834","3971054951","3222714704","4073053235","2365866933","2824182632","3782122659","1864406552","5906518748","3230963349","3821539361","4604016162","4307012749","6200041657","6394195223","4892371101","1672289125","4009590565","7190671723","9480542030","5840577145","3810953555","6056021727","2017897037","1551015848","7495505209","7555191783","2359904339","2897519715","4920681249","6376553650","8547130849","5451582865","8244223388","2266126088","9719766039","6619776321","1883844026","8517337340","2204503381","4943733770","8694376429","5134527786","1944628943","5447517728","8719385257","7268456418","8346657968","8093256656","7493018662","5002935918","3105878760","4544765824","4144746281","5978531556","2216819661","5634632201","8176171266","7678054922","2242851000","5447552547","4766011968","3817325630","8389346692","2063904913","4563649417","7943643121","7093608398","7001325017","6419534963","7151685672","8985712536","6527251947","1874401325","1211938182","5487297232","3217337545","7773286038","3703824732","5528383563","6399126101","1450260847","2452424989","6397252762","1646061179","5310673538","7146408426","4928398732","2371289319","2738800109","6212911330","2801832667","3978201246","5076889593","3369080619","5503239643","9266985580","4887711314","3726451034","9141636990","4327145687","1360841676","5018985029","9040784557","7034590721","7002839894","4951342293","6037934205","2813831375","7005533969","7436979236","9428334583","6525512339","6556798217","6377356813","2988745829","9269690290","7934286281","5482093102","2702906178","2436483715","9528971970","7063992075","6595741591","1734302125","6822000101","3100108930","1686577594","8599230948","4913225590","9903492398","2123548254","1843988007","1356340738","9479899321","6924725777","8209265810","4633591960","8097333230","7322503732","2152464499","3752537868","4370631302","3395932606","4564005951","7966854294","4882795040","5932815251","8775677697","3695620707","1533861975","2098985116","3388270562","5070942741","7874278602","8486606222","6667187336","5380928445","7862219158","4175960351","1675893713","8649128171","3798538886","6942649355","5047271971","4338442858","8959394848","6455492970","7244401369","3669637661","5915583132","6521854743","2173426643","4948896111","7272877103","7829810178","4695545221","2678277297","9810045592","6979465362","5572152406","2938405284","1909674410","5627926310","5280666318","5362694019","6083930480","3120521609","8884143194","2072864316","9848012456","3084369773","5637816346","6869537261","8324682166","9482422422","6531169516","4923057351","2075638151","3272791056","9201856832","3899518916","8004541500","3147955377","9444848854","6313449410","2982031267","2245359873","6948312950","2654544999","3151753206","2728819572","7014773403","3285971168","2795030023","8407810728","4107743262","6201660854","2357965668","4029624088","1819373425","5332583484","4106610900","4129142863","2452574844","1657370017","7878768306","3773372146","6069776089","7633567897","6462621255","5583800858","5954652222","7625521199","2968432738","4835910861","4585768639","8269974024","2350693890","4277199173","9025418633","4091097262","5830550566","5430583969","9723254279","6145804978","9537501991","5898226272","3629472395","3937407606","8816506633","1458994633","9439738372","3896620315","3710998418","8985535247","8363558608","8482200770","8593772989","3657989419","2308218603","6207337015","4202123006","5993786308","7236506879","4998467375","9564332461","1842609498","9799643263","1060076558","1963178830","1648545543","3693836742","2570533900","2270504627","6856494756","3539599580","2636699848","2411420225","4707079207","8737889581","9633244699","7006788912","5732122827","2841203484","5754476043","3759824276","8341549166","2215496637","9031225395","1133871033","5562772646","6707613902","7127191714","4722598434","5443968724","2668631301","1984041573","3350965406","2536856887","3808790053","5787666620","5659445772","1594065955","6864154531","7134116474","4566342278","8672446971","7834804887","2898542698","5073541741","4620809707","1494944308","3241677222","5540096186","7018031996","9129268783","9021135885","9686379220","3420540028","1006299330","7365729731","4346714748","3112532032","4581936150","6594772752","8298436171","1424667312","9049803474","4857133176","3229815751","8894988467","4555295287","1252437636","3535150342","6548776713","6768289231","3097557158","5962908939","4553420105","4613730431","2670804817","6429011738","2868484003","2482813675","4078834312","9694645539","2931247707","2055963124","8647903116","9887215573","4825936432","8525912054","7453869590","6443232649","7480698777","2101597764","9750013761","2748861356","2052703977","5269883446","4286154287","5802293606","7251201810","8138674085","3377474527","4585176630","9895600152","4152470686","1847263535","7988833062","1206220161","9137301981","3528508587","9837458214","6618071040","7070108072","4711466625","3680061463","4964256022","2213786762","6334088003","3508716968","9578480136","7909701511","3347386888","9859544894","1141794244","6462434893","2264695930","4486960082","2018003856","2871086674","5779250559","9582863387","5166457006","1239486089","2957067762","1046973064","8045426142","6080728333","3166862223","6896567280","2795049214","2458645516","9439869692","1122186514","4031646164","2476372579","6099500880","5211637538","4282187401","7595083575","1968711416","7377962815","8899179265","1150361606","6803109506","9275030527","4128168204","2714531498","1281897545","1113136885","5048233249","2992024342","1255441990","2629909881","6233010906","6676674952","6986421929","3445146142","8141243639","2153068098","5342376019","8134997315","4049329695","6184451901","8945860281","1765427841","6850365777","6590885811","6960441958","7836373850","9081320759","7303748529","9124746742","8073111435","6537903603","1997342177","8476059913","5566888692","7743692047","1234282982","4772134185","8326119319","2591950115","6427993246","4482388948","6861893373","2037940930","4018557995","1113937381","2696461527","2434745066","2814527904","3389453108","9721973285","2167934085","8047447418","4269635736","1728335981","9351952684","9641428675","2400232150","8663122619","3373285880","9399408407","9971914537","7296125757","7717849883","4259509386","3074324337","2357664908","9567956086","7627585605","8002227323","9094489735","5020728503","3959065073","5392906023","1835369382","9661997319","2051886436","6928188869","9181023542","1160410835","7873197281","1938862642","7799706686","3327013473","7507346756","2862290771","7124708023","2972251033","9117404200","7565137511","4873326003","1482027054","6413102012","9033415132","7175156903","8937980105","6535266629","8098067359","5087986604","8218730276","1247489119","6395080566","8458949024","5072841235","3978272844","6738476795","7530394539","3245962668","9020642559","5598975470","3004667270","6587115635","9850229593","8190966783","4778984424","2831503045","8897404698","9153220892","4503098974","5114911027","5494755704","7458623980","9078573198","7483158066","3551447673","6269379830","4084053490","3246996295","1159557049","5648825114","8481826442","5409984163","5178768437","1803321833","6918445461","7952235931","7371923555","2662860159","4166963821","3034055374","4690414798","3370177589","8697742046","9438370855","1830076796","5504946281","3624287622","6776351830","7558341565","7374161206","5375647761","9381461461","5722946845","6321421075","5727993306","6375640417","3932175335","8408781937","6381609020","2297853601","8737885719","4228324263","3108895112","4188828528","2782997785","8631503017","3124538104","3723639188","4490172575","9919042102","2794633157","1305959919","7632119002","8638048955","1410982297","4378840015","1143406907","6460415540","1696587395","2014218422","2301776240","1906425180","4502317044","8285240120","4990786334","6509618022","1637329790","8336541384","9360102019","2549464092","6574802450","1232813374","4501786055","6415068954","9075643689","5367363735","2318504295","3761224211","7861870817","2012632537","2709959009","4801128545","8182065598","2235102776","3753634693","5992816357","2192459246","1221064079","3875656978","7176053652","9583582712","9691979043","7216803062","8277021181","7065224279","6743395277","8414535603","2583498526","8400563042","1623476688","3205151070","2072775710","3936144701","6312210655","4808250874","6713618209","7215936823","4130012994","5450219489","7573380818","2974742793","5811802235","4476549678","4806342287","6609570938","7025012769","7097851965","6225343071","3809074129","9092500768","2585361456","9371449540","9575130514","1025952303","2780768317","7295474098","8293773794","1584872154","6021644273","8013121292","4717729605","5459468174","4714021564","3200518044","7680447425","6560853508","8956957748","6061294319","6002139295","7161724517","1358650855","9272603735","9147814403","4857852638","8355629978","7859960478","3881617015","2861162642","6813601846","4512709203","1272909488","1662794135","3632152873","4232970321","8512688415","7349318323","1743478435","3983178147","8289974291","8023441092","7031457718","6582838779","8271240617","7392041901","4853251004","1091687450","9178181728","1096301419","1149536696","3310482759","1452945081","8935970171","4574889964","8169516444","7757753627","6631443070","6303149189","6639423084","8093022421","9203239266","1076077288","7576764704","5773836672","9493279651","3298947880","5205582247","4090897237","4048029868","6326320553","1742806331","1561464074","2888592672","1846452381","6397488179","5718883726","7152430640","2362216473","9805620252","7749041756","5252924765","4294152356","1869618236","8693121573","4789709877","7978230652","6276389152","7885660307","9956091098","9050165803","2256220952","5798297531","6126567296","5041554419","7890774106","2733903986","4463741064","2743041274","2708257770","5359062443","7539520132","2249871179","5175880589","4405150013","4261668330","9452667534","2586326177","6967865039","1188851076","9321205592","6918063119","9597720002","9322581003","6770818933","2442988281","5692534736","7540245670","4222926953","4549707478","1709407175","1685938907","7262443252","7412620959","6974529498","1138267066","6082431277","2155265809","2361184974","2105658078","4133482800","8150236464","3945206034","6865524056","1177412773","6337695676","2495140910","1006557165","4726551573","1005584240","6364096869","8353025799","5211234374","8038382193","4993879985","3543050249","2193557363","5688966880","2739361597","4401922406","9172285440","8980198003","5184254991","2921203442","8192249464","9518493128","5116183005","4258365789","7871775005","3438128567","1785696564","1987228256","1114966101","5054256384","9702130444","5097094318","3362538607","1024204740","1783726433","5911006668","2925639436","8151217986","8775509345","4818884310","6126573758","8389019626","3312006839","9685187926","3594947859","5105232097","4413875884","4797076575","7004365016","7610021167","2070675258","1399337588","9042273268","9365121119","6011949156","4236160931","2247782776","5296953795","5974293007","6249199262","1244258767","9845178810","2109776556","4654319659","2549634194","7861954294","2232762146","3545773497","7854476661","4318574933","6011373134","6866566995","9276203155","1125485598","4982850097","5737152699","9562151869","3266722875","6228447819","5479717349","8300454107","4488895365","7421943060","8499047146","7223444165","7805519385","2505381769","2334890668","4546611685","6557891611","3699176613","4937840933","3214106047","3374022097","1882969669","5814853817","7795644071","5985426835"];



    let codes = secretCodes21;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>