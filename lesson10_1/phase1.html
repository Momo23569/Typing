<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];



    const secretCodes9 = ["538822210","120338957","463181134","928067091","296931962","422237431","296364347","435493504","533852482","504677073","448582226","649846662","841396408","157086131","683503897","137658563","349123696","476147775","504435630","131630660","880563971","282130568","347662886","172087573","478246293","891887661","367068401","453882136","135965913","594031124","631485734","432550004","488844303","110925788","418285677","340849380","219991220","947768902","289988591","662733741","736491673","851340182","426786105","892819786","799146903","131648416","458694671","380684747","618252292","953052900","480236662","792168815","700845277","134711123","576993105","305906447","709381986","531501692","800346398","411911591","670051217","579378778","989806223","179763412","447910549","696479055","638702796","951871765","362501858","862941036","446927360","716194340","945868193","568997241","993171725","142720921","777919823","824193025","485100968","967406634","832638429","651855623","423771767","254659361","766854127","314113646","511975073","469957085","633646623","701574691","441640759","359404161","614202118","789560936","658196447","247564294","841453527","881564721","323242096","855068356","961206346","514412238","342201408","410151863","366998622","706900946","277982437","313518273","358148612","942485114","118849897","365743366","677431792","945458277","544982790","701906186","730418517","322997901","585524387","277808449","462389251","308130342","396345139","279960964","214766824","178164741","450399789","825319175","465368682","479169584","749127441","154480079","629415922","776385359","197997728","972342206","954712498","638102863","847972887","323151989","224597364","122654034","723428833","998487627","918433227","454762717","674896571","116237293","372713675","956615615","606456720","883859679","134279751","616320979","730988367","616818446","301739917","462001737","426576545","269921582","330724058","105486787","220695134","388302001","741009280","115672912","237968136","117426902","831567672","478074737","922663495","972005529","246677000","439401373","912639438","563768172","955314868","928808767","879899993","717921891","464613651","794289851","775011918","133488179","768779509","308255294","808366575","411528142","257018092","389630669","692278874","796602195","811230933","395494937","349738642","960325367","124597533","560521431","228792717","335998770","273871540","165455782","341937739","965263838","226901019","759429093","481474656","281435638","988904016","296636513","191390282","999413746","562533362","170525843","531826032","514269100","272595577","943769545","663013579","316898684","254273391","794154225","321804313","148304625","953865127","473073383","697162736","405618651","214464775","554149201","265523221","352448446","249008625","241611596","474829805","768073790","127174677","160869502","390113842","966552890","219729608","198120411","274132640","729985634","233193475","374087114","296277038","661813356","175437153","956166968","796171815","700202920","371736311","277198401","246773180","270867605","169139049","345046699","975410499","280790409","270570266","741109777","469540043","598277824","591421334","324045567","905816699","616740421","895485234","851400001","190644715","550640112","228549390","365745128","134899717","835581103","465843943","561176057","468724030","749655128","832283127","861156070","406728844","505175903","380379474","839374970","613944471","105826422","507262585","310421113","763516721","301941736","483530287","617580734","701392104","704084073","850757202","381487001","247365244","853492675","400217760","508643725","913552082","499335598","370863126","149740202","848623969","831338219","168866630","415982744","148003708","781014575","614520115","575217920","895172476","804577653","699814964","418868881","261936553","256932780","306912801","398618031","935475310","418644941","468224995","101532951","121591302","154999680","462055860","481178452","470712389","237909411","466102065","884673555","611461518","840776982","837772811","953436443","953562675","193705576","271353497","320455948","146772075","916935291","343965235","309238702","516666008","481908558","630598294","746596531","276454103","918149878","134390412","188176645","247748731","978982613","840933152","439722322","878425230","948860935","944214606","311617711","291650601","695986102","967155177","425647214","534594340","578451686","865832164","288319717","475802965","551175886","501694021","341055321","407669707","324171103","577361816","805283752","250153206","244713242","117166160","928250010","203058945","317195281","742442911","434556836","898438920","289650750","631748434","881553596","520984472","931919169","829408832","543598117","214435926","559558025","943795402","606801528","593157063","256090577","467315790","129442400","334199469","269580798","645853170","406075755","103460055","457616169","842695440","594553402","567232521","368218373","829042395","733834321","360591468","727542267","117404708","639746529","245459275","323481129","245845090","544613177","666949461","939380185","389622163","140265964","592329928","799453323","585928447","445586366","158890558","626486900","279536647","745075080","693366190","113548740","429559573","852567780","675809282","247623550","128719656","786531891","570532007","936949256","459241058","611304303","733066963","240675948","223834655","424828528","221617694","881001296","228953463","120698335","544572998","647488740","738953750","594024006","805870946","560540599","698385434","385298157","122306128","831882041","811995845","777737395","416546245","478497959","587534247","723938436","726598678","178432367","563094248","391424826","654022681","449520342","476186652","456384858","409769123","276690030","157774053","979207545","842286051","353893254","335079275","130028830","479350571","247491549","397395479","524122839","773353199","591904611","487433240","218890677","304030458","663878999","636652145","453481200","471729672","425575501","473362462","374017434","176350173","873941071","799792550","493881300","223124156","985817130","444041820","911600797","458083266","992970348","146877132","288161114","439673000","865203311","250955656","292274414","333128112","277570065","584494861","823190158","391248892","558956652","773216220","180960320","596815811","809874458","909691752","838669883","599874830","936607018","952588307","608350380","318708030","763527975","195429948","907362017","529606217","369791916","872707492","982739998","816676887","486953938","964538840","857857437","257474890","455839155","851084698","586573410","613713649","293805731","747319271","863684751","671619912","700379789","704806450","160415440","967203913","166458179","429582194","111078336","360222710","721646843","500685192","370315019","340368723","207626519","486477092","373608022","341440221","123304762","145492914","578675631","644669145","188213424","884153728","914178056","338256122","316013654","176059556","233994986","212283828","676568245","462136733","834996055","793612597","562322398","360563943","537799833","262304117","446618391","895731088","245828391","405836228","625469370","477470965","685772656","849375529","714881688","336702147","346780092","935788044","461753323","581822711","529436487","567690002","891814547","141073301","741784361","572258247","931649534","429490530","284320884","916138903","413795785","400464087","846588512","205229207","544248268","895056306","688210166","447705911","131690007","854185735","872453821","664456243","402258109","651544967","494637870","427243265","473903835","908347462","479157202","771930853","792764307","454640337","302186058","907558144","328567818","978549028","945237904","325399799","587663828","810820676","202615322","297164507","779874673","752812612","682404136","952218699","419478631","285843302","126334304","585924154","393422406","651906535","790235015","420951300","151720094","243670843","256555888","896237047","206821296","429983323","896964012","503693253","430058999","125407345","404299202","218039072","781370536","572182399","377912868","437116854","812766401","750082649","546759076","686741195","584701679","588578956","622916331","610083542","861714521","231771381","938083894","262353530","640656503","417054730","922280000","196712623","880165570","642051348","724065904","636246486","789625912","760468677","843354947","495142196","116854346","150674414","558651877","152145012","989530046","921525515","805710628","807577880","109347208","764730422","246961800","124717590","737946358","989563431","498405820","909938180","179637425","179372695","728014711","104394714","393987429","209450062","224886119","475992259","396867164","771116805","597668634","444929071","770005050","361277282","435967587","793971352","786960450","700261984","491736076","995203280","999557777","389535397","622935260","769153400","903743032","565803062","812933675","179625200","263786034","609391046","554377352","182296844","665360844","261409986","943143821","777726275","268791843","934449907","576518374","165616639","732596746","945862684","682423500","957998656","317437774","727704626","535640307","103344899","264118131","704541322","416828556","512215288","263215260","643823492","387926922","278996324","251398553","838405745","557976294","161734489","758460178","983675729","953122642","681565237","201258057","316593192","908739089","779159970","283454460","219851907","358747015","607840694","922260242","518528743","692441283","528676738","245507167","493769357","922940915","462803310","933863340","591701158","776115119","206084654","566347588","590254613","828778530","440875713","458931755","564042248","249631245","913961718","579482195","505271555","889739203","227397797","761657801","413171735","360017155","524825092","230017406","211592996","345402901","231635329","499390724","115190045","971602109","235149264","799276628","677857549","824018113","970229796","855109294","721432001","926596119","501580516","869536621","698354384","979029156","282364122","872515679","444173036","174497377","417253814","909277287","489524205","998879641","998169102","762248955","768675351","261789543","433905117","886880527","199587487","532086803","383700978","464728498","907450974","827807271","968340290","647308538","376323940","187460940","875525073","615264949","669393803","112518760","461219111","382447871","884934485","742029508","742621049","607443660","560932012","989000436","788953755","987356974","316927324","325049162","619979554","421876814","116284536","337937205","318832063","388096702","109915074","716122128","530875856","108091017","718871137","628165035","196508940","437131003","623792258","756660865","346045385","616280337","988422766","203557054","650082514","940397065","775047238","132814024","669627839","169495040","570016480","701443711","714350952","425648594","684866142","981465345","571587382","593758603","378860908","390333129","486963816","260260300","537306409","135165379","116322614","938365645","788704687","509153526","175514389","375704738","793209610","504273849","774366150","831271409","414688284","759838831","330638203","319612465","483365387","349633515","857858802","520351524","747115983","859273733","504177875","619057113","464408426","336466746","137135448","319939073","830276175","850094529","892192950","536188808","134944099","667814246","454009114","838999477","297380451","915501885","443911821","505566294","506728462","436750015","635165767","490078280","258246951","371049666","724260558","565741652","825510027","532616036","372050546","600881112","557229674","435835501","653382449","148947623","544585715","861152864","105944336","287101772","272559862","846769657","372500827","784512540","552514553","700105773","460996079","961982393","172233459","621351618","954273824","920786219","362327094","667164300","987603521","866568917","590991946","160301618","837893060","121574344","129614239","889412526","555755438","207299780","379018037","617018694","102099916","225464229"];


    let codes = secretCodes9;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>