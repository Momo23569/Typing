<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];

const secretCodes23 = ["3833476098","1714225897","4128146417","6176148126","1977858163","1472580599","2393160633","9089910399","8616667490","5470541929","6461584986","1226735065","3883796239","7816080745","7471829030","9701082007","8946096463","1926187523","1127000406","1827314999","9958132250","1222376075","5633773254","6189096938","3780357910","3771938923","7098315182","4142887536","8016662114","8394724340","2294254920","9913348037","7339635731","4029900919","8086593791","7485638513","7662193288","5496658848","9228365568","4502656546","7065504315","8974532560","4891125736","3544024816","7553560962","5045436647","3286990612","9188224635","2578062483","8867854486","7984922505","9797035155","7387836899","7920980127","2107964844","8155266848","5141814590","5964897849","5352077529","1895238747","1664008498","5393246194","7214062290","8783811667","8007300065","9496082200","4182481192","5587761630","2889019561","6126961631","2784954642","9236325819","8827363917","1418603529","9896617340","7412780423","6985733100","4175920400","4809511432","9358768872","7597759018","7202727261","6612577520","4285356524","9477662172","5415558323","9448289396","6261461585","5184700758","1437098916","2598174269","8347534787","4706124876","6510718478","2278903679","8016661085","9308534322","8737768607","6518853793","6595626838","3957616837","5995845808","9356571518","6712758757","3288131921","5953963883","9042737544","2282834150","9934906298","6400442581","7916441240","8283403707","6277709118","8425634091","5788936908","5741466246","4532802218","6142461079","4573585653","5706234971","6341996758","2402873357","3376464461","3874179107","9517348475","6711231939","5144355504","1717692147","9536199451","6659522749","4246503358","9189808700","1132586352","7683979241","5824706845","9565490508","8376896018","1157143943","5252896775","4918400817","1575951404","9720009930","6047878358","6831037456","6887746201","1885565421","7966744321","9103337475","9631062090","5312235683","3593949266","4941814834","9654360314","5186693964","6939290441","2064387769","7058247584","9806705551","4040407634","2618001292","6927350229","6856498454","3795755927","9138266448","3771830470","6232296742","2201680194","7050982342","8490762051","8805656823","7716592690","1473925033","9360555252","1871499690","8650333475","1098695136","9997910866","9609681703","4335020659","2945908803","5552754920","7098454536","4279300581","6506584438","1627457029","3153320007","2165934107","4684742573","2289924704","8435682818","9075976216","4836431450","2772505399","3553220802","3133729824","3452062904","9723240648","5426809749","7818671677","7961346912","4076527151","7187282685","9464134237","8702907813","8943688456","7657305815","5646972395","8758258463","2304464453","9415266979","8811329659","3741489093","5060159436","8392388988","2236180126","5227645429","1348864546","4841072609","3934252697","2042943795","3514253117","4994355219","9851475704","8655657659","9145574833","5135935480","5091192343","4222568543","6440687849","4454222295","1045139437","4854866218","4947186994","9437640205","6441264613","3281435258","1731530697","6802532790","7378092138","6701190336","4067167062","8263502553","9597814644","3982610457","4597012315","2268575962","7062173919","4747525568","7388405695","4939309052","6669233726","3057012191","7477854636","1209313277","9674778480","5480655826","9280022841","3900680360","1144557784","5489692610","9114597314","7319849759","3827805885","7990620435","7348404775","7974802127","1485157276","1042344262","9986026523","7479422031","9141350585","5640236010","9410910963","4720591924","5553798823","7677369911","1676576362","3630887980","1736677084","6336361007","6400063376","1174442807","1582679965","9236117857","9707873526","2250610773","9359344123","9939778484","6211185594","8366212237","5270716084","8355249418","4874788468","4026998194","8163447425","2046261956","3888926479","9766143652","1366438613","7148447648","2680867876","3079410636","5613255712","4645664295","6331051124","9699993462","7597896333","5498049125","7032331588","5953549696","9679237526","6467177701","8416746225","8752633583","5071634335","1505387014","2194807831","4870026040","1808838631","3220520191","5821153514","1385774783","1807608963","9478680181","3602082494","4450919742","5524855204","2462983882","8166145401","9179148364","1044612453","7845259899","1829824838","6831712534","7658968487","7438407640","2439316415","9615366399","3896071649","5427272057","3750104572","5612327198","7788325619","1568780110","3180649861","5758512517","2833880347","5061755281","1234387892","9223800126","4807369478","2042871982","7705048745","8859706723","3282400988","8421563900","8019455969","3848853115","8762746913","8406647323","8359872459","6633179453","6407903723","6649347877","3664779923","8337181770","4874089963","3721107271","9245487791","5682280823","2107674705","9027535624","8035994636","3896421945","2049485992","8995065404","3603190143","1167736838","7166223323","9965409471","9311013020","1575608772","6013863609","7136590246","9558721458","1324473240","2768880033","6809538480","7963675571","3087935651","8387887401","7348725000","1332262629","5551377778","4520160614","4792982982","4943921024","7132689779","1381968575","1204307443","8596080768","6154393082","2816469935","5281614547","1080624946","7002165912","9517236464","1163782421","3838828021","2414860850","2284880092","2673632303","4209399858","7078599549","3195446513","7184677109","2340580870","4846520947","3131596323","5274280458","5752988851","8192372726","9952910318","4421758637","8635134710","8624948622","5120294653","5961078686","1926178290","8755053361","6630798878","6503351081","7911391825","4820117259","8844621754","8380980175","7959790966","7581427347","7865178846","2100853891","2992744374","4827729397","2391393475","8705718304","8103804273","3481550719","4318107336","5428869344","4106360125","7688258043","2847011372","9978335402","5626026286","5052976175","6873036574","7335862047","4537805565","1532506410","8429653413","5886965548","5604405796","9127141824","5538099362","7292384561","2065895092","8167397905","4215735013","4717566931","6322952756","6424162552","7180228198","6925930180","7933901065","9381718966","8186012546","8007213751","9156458182","2667669178","2255584016","3531685833","2748279835","9723732692","4207832316","5991552237","9146803901","8086054182","5092572840","7926905215","6705211154","7560300540","8258817146","6095299702","8550620566","1063928069","8307669637","8311656263","6156147902","2924673316","7408739647","5330131141","5859700845","8319399950","7697203484","9745200087","5903500336","3837474337","1281885471","6577940572","7332078620","6626019399","9875199581","3444772842","4726294467","4740807732","2113329646","7544132142","7209280753","7323534285","3585289063","7078573008","6725945896","7143021019","3412809777","3677337430","9560075386","7432596364","9951316053","2927486977","9828555968","5161251302","3157292656","1472813097","4553025569","3697984136","6450399330","1776805097","4156661578","9109978341","6906145104","7150833824","7126147314","4707327711","7551744219","3795675147","6148253744","5177644738","5732738146","2790003796","7109648663","6440003188","2246445670","5728826057","3826899169","9631553686","3925928111","2761759251","8995428196","7500652577","4501229677","9944894162","4524597140","4978846604","1708956973","6343941711","6922791838","8103926148","7325297146","4198531688","2676050127","3105057749","3972016450","1927787335","3357981214","7283626115","8869038970","4320997749","4736730343","9776534026","4953852587","9155038889","3179253148","9861730411","4659139331","1371477131","2907532125","2203047565","8644837238","2281504010","5150048226","5302175376","7807193951","3603654992","6626803898","4386650099","1191899607","9841236834","3227919469","5103941426","9045116050","5940088766","7027593011","5510526507","3213951064","1804648252","6634830646","5324357371","9938600592","7596551734","1652340509","1677851049","7788618547","4710988327","7065263503","2870447784","7458784514","5370597247","4971984925","4194769122","8411115229","8592343007","7029498468","8723996943","2528778410","2341677234","1409400984","8707267766","9760440830","3688733778","8657585780","1421925536","3463861448","2745410437","8369401383","6368179776","7780419068","9189625268","8172467150","9584694863","8664412319","3678415761","9270817183","5667574648","6649803975","3120849333","9545430343","7764697869","4055700798","8415555735","4598276950","7382066964","3776963925","8487302851","1652694236","6525865542","7795020884","6602027224","2327762967","3721242448","2259460461","4448990684","6348378105","8132842408","8602796806","7501357298","4182047980","7933800658","7345496308","7194244665","5655945558","2686878149","8950254978","9948522683","9660184826","6461857765","6480223435","6539638260","7871333025","3888680846","1758806547","7533697067","8933479414","2829970645","3063842375","9075273527","2666876834","9106366112","7268111956","9482344358","6146513461","6604278195","1008360433","5212186370","9721285804","6061138040","7526207999","1267248644","7390552563","4031450665","7987867825","8257655620","4297236009","8841049940","3900137305","7155299851","2992910781","8213998317","4094823401","6861708436","9091817407","2783294444","7589730625","8499439701","6458362620","9760100244","6935544890","7056280032","5394212186","1177644758","5529305429","9021514966","1457268570","5326422525","1030012108","6887357581","8327227984","8170135718","8647272419","8914021813","9528728285","1135716279","8341535129","5241180815","4373300938","1206738289","9311238422","6314036642","6118787111","9846761492","5608085889","4470056691","3327590478","8012394042","6831610072","9459350943","5961413030","5458973616","1760950026","3856084592","2839675814","7436118669","2115230395","1428866741","3204204599","8827684871","4790845607","9784278434","1690250776","3873329500","2877662383","8103351648","6110386261","5016636507","8209326893","5927111249","3026199895","2697636182","1254245821","1351212767","8130019398","8836112412","7338283596","1667049945","8929761708","4788828777","6241367791","8933722947","2604338512","7943228049","9379469759","6081796817","3020008711","5270843263","8582573584","1184254958","6718810351","3566402856","6784088739","1469397770","9066574636","4490193890","2283216130","9660954342","7719243621","6513718856","7491682229","8948534273","4701474343","9325371884","1783391879","2166940550","2694597324","5844742969","4733165756","9128310448","3606354342","3666393930","6142159410","3173096395","1972512463","7436135894","8785045622","2970717413","9525966869","4040851879","2156868853","9830374125","8197729285","9661988032","9695160153","9160524934","2362070291","7338986508","1526195397","2746039639","5035869750","1378863859","1327760170","4993945075","3664712214","3792336114","3801538733","9909931723","3510815893","2758750254","9819351223","8041210828","2106552281","5714779690","1255079672","2962167342","4840796572","3456288353","2097048685","7435671801","8350538246","9472143512","9416886522","7067429887","2323180132","7443400399","7044384990","8050400288","2345698128","2565055571","5819340247","3802093527","3920429523","5549934223","1095633405","7070155129","4125613520","4345232546","8264449928","3126022646","4049320165","5202467474","6061096076","7054766136","8910714869","7200031643","9035077782","1993573671","4177357892","1818351063","7076129830","8994992911","1287480923","6374636040","3419825312","7959599750","2952993646","8881392977","9341015908","8093868165","8316594376","9068906649","3052137933","2028919408","7745994691","5792328639","9846954928","5358338956","9968913284","7942402691","3266844203","5604342964","5512026180","2368967504","6571460393","7162363500","5977640879","6058487328","8964315087","7255898479","4502634929","4166886897","7803358252","3519173863","4083697496","5687408006","4545992628","9360298399","2053241637","5237502940","9351056156","3628700471","2874118398","6453732814","2123099340","6418322729","4085723118","3960668010","5862205001","6544644390","3123288956","9172506860","5358462016","4852899432","3958594576","2671481910","1194344256","1788172420","5569097472","4275801752","7872771313","4088941129","7649640046","2257792472","4373289968","2508936950","3646479924","7124591050","7148525250","3659236689","7059250978","3472002670","7928921726","6637521930","5236770112","3926176133","8861398822","3801884700","1928710481","1046729673","2226087040","7695276196","1017037497","5962433206","7196805426","2310397510","9569095483","8865099490","6239155842","4165511140","9518466537","9148051902","2541566521","8674645978","1918196061","7876652665","3793776750","2661686000","3773641656","8046226339","7610449705","5481547307","8783443445","9864165702","5211118028","5637056635","5462314184","7347307986","3612893363","5605186218","2269320779","2159302742","5242664748","9351281466","8794337864","3951658357","4638123216","7983077190","8813658957","7088118092","6822616606","1620949890","2169040560","6722590352","5568578950","7846720085"];



    let codes = secretCodes23;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>