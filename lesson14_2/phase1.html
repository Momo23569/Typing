<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Korean Typing Practice (Phase 1)</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="game-container">
    <h1>Korean Typing Practice (Phase 1)</h1>

    <div id="game-area">
      <div id="timer">Time Left: 0s</div>
      <div class="word-display" id="target-word">
        Press "Start Game" to begin!
      </div>
      <input type="text" id="user-input" disabled />
      <div>
        <button id="start-button">Start Game</button>
      </div>
      <div id="feedback"></div>
    </div>
  </div>

  <script>
    // 禁用右键菜单
    document.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    }, false);

    // 禁止复制事件
    document.addEventListener('copy', function (e) {
      e.preventDefault();
      // 可选：给用户提示信息
      alert("复制功能已被禁用。");
    }, false);


    // 你的原有脚本 ...
    const vocabList = [
  { korean: "건물", english: ["building"] },
  { korean: "돈", english: ["money"] },
  { korean: "돌", english: ["the first birthday"] },
  { korean: "며칠", english: ["what date", "a few days"] },
  { korean: "모자", english: ["cap", "hat"] },
  { korean: "번호", english: ["number"] },
  { korean: "올해", english: ["this year"] },
  { korean: "이메일", english: ["email"] },
  { korean: "잔치", english: ["feast", "party"] },
  { korean: "카드", english: ["card"] },
  { korean: "편지", english: ["letter", "written message"] },
  { korean: "보내다", english: ["to send"] },
  { korean: "축하하다", english: ["to congratulate"] },
  { korean: "길다", english: ["to be long"] },
  { korean: "짧다", english: ["to be short"] }
];


    const secretCodes27 = ["3776715016","3910266511","7196703509","6476026097","2862820624","1360239565","7502891735","3292973019","5046485654","2271496882","2351128540","5662567974","6535478713","1190953187","3763315357","7081027446","6256231399","6874451275","3636349379","4746077210","4807417583","2061817250","2225507693","8170696290","4370630690","9172622246","3384452296","3927858694","4730731519","7799780307","6023918701","7807709537","9864267807","2214352954","6664495982","7715570339","8865699404","1358275388","6199804072","5325169762","1892649450","8937933365","7299022681","7841163609","6524891922","1609003597","4881194390","7964591183","1358274650","5620110504","7274596397","2397511016","9043923160","1435307177","6472907489","5070633962","3725273142","2003571662","6272563580","9844740994","3008559819","7425750475","6878630124","7945000156","5028193664","5253905805","3034804265","1494526390","1087999856","5759465379","9919089700","7871800148","8205452223","9864954645","3984006729","2447306955","6112476553","9853697087","3311428842","4190487142","8540416782","7651626539","6506828792","8907783898","2493574442","1779480957","7307844306","3287345475","1459242740","7571412644","3655878533","4279303727","8461275256","5710271988","4360839152","3649035993","5104585009","2918836314","9013324595","9074693157","4571764119","3795776824","4259515514","1668269566","2112777000","5561359307","2533510249","5747263515","6527172205","2274445540","8809891000","1698632611","2377834509","7298073342","7420699640","3956619751","4697205837","9770469172","7882858636","3296788226","8161256472","2304186551","7459027947","9054430683","8240907165","1566374078","4763514887","8955545611","2164958438","1180466647","2563216697","8096775609","1608450294","1030564238","8834148806","5983995180","9074601254","2510575262","3630205722","6175023730","4623818938","6904377204","5019669310","8285908266","5078690725","7534927870","8597900284","7245498441","6881943238","2493922683","5471629592","8478244627","2374617536","2168753170","9266290927","4361522065","5279387287","6156936491","8638775578","9628294249","1609496480","7307837922","5451645636","1937774745","4122715817","5426619558","2202518625","1549422249","3169713190","7130418610","3435238999","8408523118","5198384237","9209448139","2530702929","8995487075","8032984502","4345794388","4736186515","2458902176","5612978246","4931479861","4690850387","2344814259","5648235237","1799030370","5824897881","9224917912","7544248294","8707031437","2459856751","7927287968","4181563538","9579122364","7011334267","7365111367","2754243624","9833170144","9256756168","7472441692","7467489283","8688634939","3102768574","6362593300","5114572742","9619909831","4389600463","2505022801","5796763784","6555302492","4051827605","9575591740","7560443968","2601204876","8764488712","5576417450","7210806987","2705596185","3500310743","6162109065","4607534522","7322614961","7318824503","3786956633","2500848957","8899257658","9488752879","3765084957","2147069597","9311033086","4526005266","4098006348","9827684623","1553255801","2673884229","7361223673","9506257499","4655301011","3851885135","5018509512","2300958256","3633925044","2737405642","4542938450","9675544266","7539116141","4683062289","3576076530","1127621146","7009720065","2935027279","9608040995","7488306816","8576826516","1775059157","7988438850","1244373797","1787635988","4527445806","5655701669","1671778622","9672450113","9161122990","2099616438","6174311631","9572223371","3060158007","7716804212","5900076666","7316970739","8372032892","4730654724","2112673878","8084166197","7874972948","9782256096","5737587440","5760216713","5246719473","5317331182","7487897042","5730437322","5578551386","4963397094","9788240015","9725199029","5776904478","6318719358","4119397631","1967645177","3344876339","1001079667","6857375341","3687396631","9452330426","7373811504","2507809150","1258140422","2284030467","7773392890","5775496497","7045936377","3912215134","9450670730","3619776845","3776814597","9134506393","8221438327","2026202172","2437560688","5877564788","8361968664","7767973847","1697036913","3703871263","9541979008","4452629332","7681998168","8173421824","4260648857","6221226357","6819465281","2097494219","4904691789","3865610135","9184500867","4793758087","6132452240","3842589146","8571403153","4812419588","5032666357","2347982330","5797074675","3438031436","5255477280","3933609436","8270588271","3421287311","3585478004","9972003858","4941936744","9495708621","1908315503","1989369059","3236042505","7757286765","5346734591","3079469941","3146327319","4821810702","6300085719","7997614251","6961104021","2585322563","4021659915","3548120710","7935004640","6746077943","8126011287","3277514384","8740126274","3607023402","2862177215","5200193581","9939126220","5868159201","3938668942","7495346628","7303271578","6675158465","5877397510","2796039842","6308020957","2334211221","6013086122","7179187045","3292630296","3514055088","5597698385","2210441878","8316274339","9329985218","7568539889","3749798335","2963368359","3415759245","9179940464","3128868205","3192505746","4692322351","5070269822","5603154607","7734184403","2416535035","3630304260","7817366803","2053750930","9472851944","2113020962","5350846352","6382628839","7031842345","1147963436","6558527473","3353480914","1465044175","3245823040","1610565054","4387585423","2948600796","1512752896","3636005501","8068260544","6595830919","5797164479","1109973518","3896173756","3029661366","3513389288","8801479367","8945588973","9032812303","2117736040","9461773123","4929925570","7885188975","3929056169","1301815656","8211797415","7662982944","2636163687","3890795615","8284977251","7977536403","6997292600","3487181062","8769911950","6852412409","1626919280","7845306281","7453144112","1365645921","2071162401","3821134051","6362818761","1718946560","3478298890","7166448863","5338147955","6608073934","3600777515","8286164333","9141511657","6818958513","6829153827","3574916789","3127773888","9483352147","2596283650","1305486510","6774650657","9062603973","2173465729","4366455587","1868863312","9085527520","7938791907","6425604897","1490099172","4156846388","1545168668","4225809751","4667598800","1645721484","6213228475","1863314112","9534161536","9012717459","4578815887","7614367674","9276313716","3027688748","5472289733","6788016594","6238506625","5698167002","5438321803","7041213352","4018364614","9100909757","5748301271","9306621037","1409434758","1468845650","6054361151","8401688188","6641615445","6358792025","1707642971","6507917657","6735771602","5810222904","7669933480","1322902742","6244007834","8706377677","5624260660","8145943752","1955005650","3992400414","6359881240","3875338070","3580699822","4780121985","1288038174","4488165106","1199115795","9191260500","3977934612","9561213996","9897397242","4463858873","9641756843","9641121578","6460405514","7732822734","7288774214","9429534382","4352542932","9719781712","6925680740","9448761550","4757341553","1163380537","1857303866","3946376066","9265127336","6956270466","5007857367","3815717477","8463506328","5503939267","9956563112","4179997496","5115789642","3878697400","3668574592","8013246206","3345490200","1607088624","1917618272","8304898080","1998494217","8204198739","8804785162","8397993706","6686130982","6445231265","3587060804","8773079501","4902538076","6049267152","6548381070","4660153580","5368991755","7126610551","1715262176","6673973390","4656113330","3816212530","9425902855","5072736428","6966983464","3280255204","8082988773","8642013385","4098703209","4607417387","4984862232","7805076989","8861079390","8009520582","5627236631","5934571436","5708166870","9843687531","2679632579","9121930901","6342652464","5964853101","8191906738","9758272439","4271526739","5080535680","5854713003","7052803704","3497686799","8716029130","4194888415","9754693189","5278599675","3938505808","5031621244","5280241707","9834049042","1498917281","5898742251","5151706955","6969318953","3310491613","1794713236","5622358499","9452437288","4100429513","1462573888","1643289630","7571123321","2095279330","7755216487","4979318901","5988874918","7683467143","1268965293","1856431503","1737488587","7057744181","5874089021","9386880631","2148579927","1585777862","2165375497","9387409724","6404544649","9668770435","5486556221","1445306982","8691336877","7113046925","1523411350","6084648886","2271670306","9208366873","8518906006","8636980024","5989382494","3518623570","7936932070","3635596718","6158598717","7273338020","1943376694","2237576951","9511543269","7772415015","2964519110","1303054461","7681784117","3357195281","9974036527","9068994458","3153075090","9751446889","9484794425","3034363549","6577777050","3905243618","6902731917","3623187011","5359428446","7221015960","5083007680","5819225702","4294298676","8791785386","7698675950","8472852324","3250602370","9698438251","4182321861","6457791469","1847547749","7209583361","1928455361","1393163779","5745524554","4319867134","2313143699","7037607253","6572917566","6692600379","9544870736","3723078216","3106870856","9713382855","9343951771","2665469636","5616540010","9015503752","1767641971","7597176407","6331810406","3588042905","9690220014","1323699004","7221701505","5487607674","8231418431","5161841816","2138697790","8423151667","5849076648","7905488742","4817099773","7221225586","8363938421","1677621876","8976146445","3856629859","8370171470","5592185404","2613950233","1585205398","9315326367","4224040924","4084831678","5902622575","6702961971","6265677301","8454207674","1223562116","5391912456","4786074619","8598741221","1861416739","8474295549","4427445958","2768592578","6274737784","5913183561","4048904198","6116146722","3195507185","7081364418","5878237361","7603625541","8493602330","4272621773","1932685144","5498019104","6168650994","9409587778","2263812256","1629620667","9531042681","6950054047","9989594928","8697956992","8488473113","7732010465","1330857692","5068346825","1973939099","3865519127","7359868428","1903735375","2001880319","1712753791","4633387522","3656565237","5866688681","9747644224","7102450513","2771104415","7986468994","9838577447","4224799910","4936080683","6626311721","9882436679","6225770098","3498434171","2004237249","1980270755","6788687673","5942305687","8200493465","4989384786","8374315692","6432475125","1238107442","4292924660","1574905952","3947683626","4077914323","6365632604","9111182609","7597382727","2694810789","8281502252","9385441849","5263804057","8721076027","8042163577","9589456950","2139816504","8988322414","5196340049","9684168476","4991704439","7315114662","5453298935","1454937298","5707758355","4350665110","8021176287","6193937887","4769698526","3213262809","9886567215","4765625601","1879247017","7288862199","8405680017","2954298841","3963365632","9896722547","1266961071","8859830217","7073417617","9792722319","7891821847","8325787844","4315695467","1795906952","9509152427","2139009540","8898144141","9965834564","2710652048","9437807867","4985798359","1852869602","5133882769","6864261157","3454842066","9769853998","8246714110","3059204294","1227530944","1058819035","9061662809","2906736781","9804564581","4798574558","5290697934","9122168056","7124272186","5593731923","6999419556","8632807189","1580771287","9831971709","1910726244","5426982577","4035032500","4038586456","7964018664","8578228312","2618225442","8051547819","1647148370","9942466797","3108909484","8278057462","4753346640","7537976600","5568877146","6982436914","9234534031","7091232249","1446362962","2643318650","4582261408","2376878837","6435158375","2280717324","4790851802","6130788837","9486697329","9102663553","4721184718","6125504051","5317041993","2401447623","7298683516","9295999422","5197606450","7497418756","9227751864","9882907058","6081336326","3562999798","1536269027","2288698749","2520987549","3094744980","7579281974","4074720811","7556273144","1791383571","3585336147","4346206025","9751301160","6036570806","8686684920","3956515150","2809066768","3285232584","6921141424","3113597574","8650442846","9146399742","4655921808","5029227949","9868941004","7482405341","1241703992","6240747913","7998222804","8874928492","9006508965","3648005451","9728025262","7245882793","9820977391","8560466742","2274749304","7947760822","6881390940","2642422171","2442397689","9263292956","7582699237","2456520416","7854499843","9810794796","5483057818","6354473734","3531504577","1858312452","8001672385","4970183797","3683973094","2504042830","5501051752","5442409932","3833486892","6845980009","4422651462","3912690906","1437940189","3501659291","6586580689","9116319623","7830756149","7024498233","8536969478","6747724045","4485184463","4492477817","9291424340","3840163078","4638626026","3321670531","2842044328","3481496102","3859196339","9038550002","9463336042","2907490465","1612467102","1823282991","5077658331","9238376715","2742122805","8682424737","5344564518","9827600235","8649415915","6021213304","8201259660","2553126955","3390075981","6314202334","2254648973","3316271360","6288142042","5734047655","5363588719"];



    let codes = secretCodes27;

    const targetWordElem = document.getElementById("target-word");
    const userInputElem = document.getElementById("user-input");
    const feedbackElem = document.getElementById("feedback");
    const startButton = document.getElementById("start-button");
    const timerElem = document.getElementById("timer");

    let currentIndex = 0;
    let totalTimeLimit = 0;
    let timeRemaining = 0;
    let timerId = null;
    let countdownId = null;

    function countKoreanBlocks(word) {
      // 简化处理：每个完整韩文字母块视为 length=1
      return word.length;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function calculateTotalTimeLimit() {
      let totalBlocks = 0;
      vocabList.forEach(pair => {
        totalBlocks += countKoreanBlocks(pair.korean);
      });
      return totalBlocks * 4 * 1000; // 每个字符 * 4秒，你可以自己调整
    }

    function startGame() {
      shuffleArray(vocabList);
      currentIndex = 0;
      feedbackElem.textContent = "";
      feedbackElem.className = "";

      userInputElem.disabled = false;
      userInputElem.value = "";
      userInputElem.focus();
      startButton.disabled = true;

      totalTimeLimit = calculateTotalTimeLimit();
      timeRemaining = Math.floor(totalTimeLimit / 1000);

      clearTimeout(timerId);
      clearInterval(countdownId);

      timerElem.textContent = `Time Left: ${timeRemaining}s`;

      timerId = setTimeout(() => {
        endGame();
      }, totalTimeLimit);

      countdownId = setInterval(() => {
        timeRemaining--;
        if (timeRemaining <= 0) {
          timeRemaining = 0;
          timerElem.textContent = `Time Left: 0s`;
          clearInterval(countdownId);
        } else {
          timerElem.textContent = `Time Left: ${timeRemaining}s`;
        }
      }, 1000);

      showCurrentWord();
    }

    function showCurrentWord() {
      if (currentIndex >= vocabList.length) {
        endGameEarly();
        return;
      }
      const currentPair = vocabList[currentIndex];
      targetWordElem.textContent = `${currentPair.korean} (${currentPair.english})`;

      userInputElem.value = "";
      userInputElem.disabled = false;
      userInputElem.focus();
    }

    function checkInput() {
      if (currentIndex >= vocabList.length) {
        return;
      }
      const currentPair = vocabList[currentIndex];
      const userTyped = userInputElem.value.trim();

      if (userTyped === currentPair.korean) {
        feedbackElem.textContent = "Correct!";
        feedbackElem.className = "correct";
        currentIndex++;
        setTimeout(() => {
          feedbackElem.textContent = "";
          feedbackElem.className = "";
          showCurrentWord();
        }, 800);
      } else {
        feedbackElem.textContent = "Close, but not quite! Try again!";
        feedbackElem.className = "wrong";
      }
    }

    function endGameEarly() {
      clearTimeout(timerId);
      clearInterval(countdownId);

      userInputElem.disabled = true;
      startButton.disabled = false;

      const randomCode = codes[Math.floor(Math.random() * codes.length)];
      targetWordElem.textContent = "Congratulations! You've completed the game!";
      feedbackElem.textContent = `Your code is: ${randomCode}`;
      feedbackElem.className = "correct";
    }

    function endGame() {
      clearInterval(countdownId);
      userInputElem.disabled = true;
      startButton.disabled = false;

      if (currentIndex >= vocabList.length) {
        const randomCode = codes[Math.floor(Math.random() * codes.length)];
        targetWordElem.textContent = "Congratulations! You've completed the game!";
        feedbackElem.textContent = `Your code is: ${randomCode}`;
        feedbackElem.className = "correct";
      } else {
        targetWordElem.textContent = "Time’s up!";
        feedbackElem.textContent = "You’ve gone over the time. Please try again.";
        feedbackElem.className = "wrong";
      }
    }

    startButton.addEventListener("click", startGame);
    userInputElem.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        event.preventDefault();
        checkInput();
      }
    });
  </script>
</body>

</html>